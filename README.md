# TypeScript 代码规范


#### 规范目的

1. 随着公司的业务发展, 项目越来越多, 代码量成指数级增长. 没有任何一个项目及一个产品在其生命周期内, 仅由最初的开发人员来维护 .
2. 编码规范可以改善软件的可读性，可以让程序员尽快而彻底地理解新的代码。为了执行规范，每个软件开发人员必须一致遵守编码规范；
3. 使用统一编码规范的主要原因，是使应用程序的结构和编码风格标准化，以便于阅读和理解这段代码；
4. 好的编码约定可使源代码严谨、可读性强且意义清楚，与其它语言约定相一致，并且尽可能的直观。

#### 适用范围

1.  本规范主要以TypeScript为开发语言的规范, 为酆泽公司的开发规范
2.  对于具体的每个项目, 可能需要进行裁剪和修补
3.  适用人员 : 酆泽开发人员
4.  适用产品: 以TypeScript编码的程序

#### 1  命名规则
 - 使用PascalCase为类型，枚举值命名。
    -单字之间不以空格断开或连接号（-）、底线（_）连结。
    -每一个单字的首字母都采用大写字母的命名格式。
    -第一个单字首字母采用大写字母；后续单字的首字母亦用大写字母，例如：FirstName、LastName。
- 使用camelCase为函数，属性或本地变量命名。
    - 当变量名或函数名由一个或多个单词连结在一起，第一个单词以小写字母开始；从第二个单词开始以后的每个单词的首字母都采用大写字母，例如：myFirstName、myLastName
- 不要为私有属性名添加_前缀。
- 尽可能使用完整的单词拼写命名（而非缩写）
- 不要使用I做为接口名前缀。
- 名称应该反映代码作者的目的，使代码变得易于读懂。
- 避免歧义。
- 如果一个单词对不同对象有不同的含义，不能为了’一致性’而使用，而是应该对特定的类型选择最为合适的名字。比如两个数字相加，用’add’；向一个列表中加入元素，似乎也可以用’add’，但意义却与上面的二者’相加’明显不同。故应考虑’append’

#### 2  组件
- 1个文件对应一个逻辑组件 （比如：解析器，检查器）。
- 不要添加新的文件。
- .generated.*后缀的文件是自动生成的，不要手动改它。

#### 3  类型

- 不要导出类型/函数，除非你要在不同的组件中共享它。
- 不要在全局命名空间内定义类型/值。
- 共享的类型应该在types.ts里定义。
- 在一个文件里，类型定义应该出现在顶部。

#### 4  注释
- 为函数、接口、枚举和类使用 JSDoc 风格的文档注释
- 单行注释（//） - // 和行尾之间的任何文本都视为注释
- 多行注释（/ * * /） - 这些注释可能跨越多行

```
//this is single line comment 
 
/* This is a  
   Multi-line comment 
*/
```

#### 5  代码风格

- 使用箭头函数（arrow function，即 lambda 表达式）代替匿名函数
- 仅当必要时才在箭头函数的参数列表中使用括号。例如：

```
✘ (x) => x + x
✔ x => x + x
✔ (x, y) => x + y
✔ <T>(x: T, y: T) => x === y
```
- 总是使用大括号括起循环体和条件体
- 开大括号总是放在其关联语句的同一行（大括号不换行）
- 圆括号内侧不留空格；在圆括号内的逗号、冒号和分号后空一格。例如：

```
for (var i = 0, n = str.length; i < 10; i++) { }
if (x < 10) { }
function f(x: number, y: string): void { }
```
- 每个定义使用单独的语句。例如：
```
✔ var x = 1; var y = 2;
✘ var x = 1, y = 2;
```
- else 不与之前的关大括号同行，应另起一行
- 使用4个空格进行缩紧

#### 6  一般约定

- 使用由其他组件创建的对象（例如Node、Symbol等）时，将其视作不可变的（immutable ），不要修改它们
- 数组在创建之后视作不可变的（immutable ）


#### 7  其他
- null和undefined，使用undefined，不要使用 null。
- 禁用var，用let和const代替
- 禁止给类赋值
- 禁止修改const声明的变量
- 禁止使用new Function new Object() new require，禁止使用new创建包装实例，new String new Boolean new Number
- 必须使用 === 或 !==，禁止使用 == 或 !=，与 null 比较时除外

#### more [ (https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md) ]
